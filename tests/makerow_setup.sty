% chktex-file 41
\RequirePackage{pgfkeys}
\makeatletter
% define mathsfit if not already defined
\@ifundefined{mathsfit}{%
	% SEE: https://tex.stackexchange.com/a/434396
	\DeclareMathAlphabet{\mathsfit}{T1}{\sfdefault}{\mddefault}{\sldefault}
	\SetMathAlphabet{\mathsfit}{bold}{T1}{\sfdefault}{\bfdefault}{\sldefault}
}{}
\makeatother

% serif
\NewDocumentCommand{\RM}{m}{\ifmmode\mathrm{#1}\else\textrm{#1}\fi}
\NewDocumentCommand{\BF}{m}{\ifmmode\boldsymbol{#1}\else\textbf{#1}\fi}
\NewDocumentCommand{\IT}{m}{\ifmmode\mathit{#1}\else\textit{#1}\fi}
\NewDocumentCommand{\BI}{m}{\ifmmode\boldsymbol{\mathit{#1}}\else\textbf{\textit{#1}}\fi}
% sans
\NewDocumentCommand{\SF}{m}{\ifmmode\mathsf{#1}\else\textsf{#1}\fi}
\NewDocumentCommand{\BSF}{m}{\ifmmode\boldsymbol{\mathsf{#1}}\else\textbf{\textsf{#1}}\fi}
\NewDocumentCommand{\ISF}{m}{\ifmmode\mathsfit{#1}\else\textit{\textsf{#1}}\fi}
\NewDocumentCommand{\BISF}{m}{\ifmmode\bm{\mathsfit{#1}}\else\textbf{\textsf{\textit{#1}}}\fi}
% misc
\NewDocumentCommand{\NORMAL}{m}{\ifmmode\mathnormal{#1}\else\textnormal{#1}\fi}
\NewDocumentCommand{\CIRC}{m}{\ifmmode\circled{#1}\else\circled{#1}\fi}
\NewDocumentCommand{\TT}{m}{\ifmmode\mathtt{#1}\else\texttt{#1}\fi}
% math-only
\NewDocumentCommand{\BB}{m}{\ifmmode\mathbb{#1}\else#1\fi}
\NewDocumentCommand{\SCR}{m}{\ifmmode\mathscr{#1}\else#1\fi}
\NewDocumentCommand{\CAL}{m}{\ifmmode\mathcal{#1}\else#1\fi}
\NewDocumentCommand{\FRAK}{m}{\ifmmode\mathfrak{#1}\else#1\fi}
\NewDocumentCommand{\BFRAK}{m}{\ifmmode\boldsymbol{\mathfrak{#1}}\else#1\fi}


\pgfkeys{%
/makerow/.is family, /makerow,
% here we define the default values
default/.style={
	% text/math
	text=\relax,
	math=\relax,
	% serif
	rm=\relax,
	bf=\relax,
	it=\relax,
	bi=\relax,
	% sans
	sf=\relax,
	bsf=\relax,
	isf=\relax,
	bisf=\relax,
	% scriptur
	scr=\relax,
	cal=\relax,
	% fraktur
	frak=\relax,
	bfrak=\relax
	% misc
	normal=\relax,
	tt=\relax,
	bb=\relax,
	circ=\relax,
	% roman
	roman=\relax,
	Roman=\relax
	% sub- and superscript
	sub=\relax,
	sup=\relax,
},
% text/math
text/.code={\gdef\rowTEXT{#1}},
math/.code={\gdef\rowMATH{#1}},
% serif
rm/.code={\gdef\rowRM{#1}},
bf/.code={\gdef\rowBF{#1}},
it/.code={\gdef\rowIT{#1}},
bi/.code={\gdef\rowBI{#1}},
% sans
sf/.code={\gdef\rowSF{#1}},
bsf/.code={\gdef\rowBSF{#1}},
isf/.code={\gdef\rowISF{#1}},
bisf/.code={\gdef\rowBISF{#1}},
% fraktur
frak/.code={\gdef\rowFRAK{#1}},
bfrak/.code={\gdef\rowBFRAK{#1}},
% scriptur
scr/.code={\gdef\rowSCR{#1}},
cal/.code={\gdef\rowCAL{#1}},
% misc
normal/.code={\gdef\rowNORMAL{#1}},
tt/.code={\gdef\rowTT{#1}},
bb/.code={\gdef\rowBB{#1}},
circ/.code={\gdef\rowCIRC{#1}},
% roman
roman/.code={\gdef\rowRoman{#1}},
Roman/.code={\gdef\rowROMAN{#1}},
% sup- and superscript
sub/.code={\gdef\rowSUB{#1}},
sup/.code={\gdef\rowSUP{#1}},
}
